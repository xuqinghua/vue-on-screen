/*!
  * vue-on-screen v1.0.6
  * (c) 2020 xuqinghua
  * @description verify dom is in screen
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Index=t()}(this,function(){"use strict";var e;return function(e){function i(e,t){var f={},r=t.callbk||function(){},F=t.minShowHeight||1,L=t.minShowWidth||1,c=function(t,i){if(void 0===i&&(i=0),!t||"function"!=typeof t)throw new Error("handler\u5fc5\u987b\u662f\u56de\u8c03\u65b9\u6cd5");var n=0;return function(e){n=n||setTimeout(function(){n=0,t(e)},i)}}(function(e){var P=window.pageYOffset,E=window.pageYOffset+window.document.documentElement.clientHeight,H=window.pageXOffset,k=window.pageXOffset+window.document.documentElement.clientWidth,S=window.document.documentElement.clientHeight,W=window.document.documentElement.clientWidth;window.document.documentElement.scrollHeight;function t(e){var t=e.element,i=t.getBoundingClientRect(),n=i.top+P,o=n+i.height,r=i.left+H,c=r+i.width,d=t.offsetHeight,s=t.offsetWidth,f=e.minShowHeight||F,l=e.minShowWidth||L;f=d<f&&!e.isForceHeight?d:f,l=s<l&&!e.isForceWidth?s:l;var a=!1,w=!1,h=!1,u=!1,m=!1,p=!1,g=!1,I=!1;0<=i.top&&0<i.height&&0<i.width?(a=S-i.top>=f,w=0<S-i.top):0<i.height&&0<i.width&&(h=i.top+d>=f,u=0<=i.top+d),0<=i.left&&0<i.height&&0<i.width?(m=W-i.left>=l,p=0<W-i.left):0<i.height&&0<i.width&&(g=s+i.left>=l,I=0<s+i.left);var v=!1,x=!1;i&&0<i.height&&0<i.width&&(v=(a||h)&&(g||m),x=(w||u)&&(I||p));var y=w||u?(u?o:E)-(w?n:P):0,b=p||I?(I?c:k)-(p?r:H):0,O=parseFloat(y/(i.height||1)||0).toFixed(2),V=parseFloat(b/(i.width||1)||0).toFixed(2);return{isInView:v,isInViewOnePixMore:x,isTopIn:a,isTopInOnePixMore:w,isBottomIn:h,isBottomInOnePixMore:u,isLeftIn:m,isLeftInOnePixMore:p,isRightIn:g,isRightInOnePixMore:I,onScreenHeigh:y,onScreenWidth:b,heightPercentInView:O,widthPercentInView:V,isAbove:0===O&&i.top<=0,isBelow:0===O&&0<i.top,isLeft:0===V&&i.left<=0,isRight:0===V&&0<i.top,rect:i}}for(var i in l=P-l,f){var n=f[i],o=t(n),r=!n.isInView&&o.isInView,c=n.isInView&&!o.isInView;n.rect=o.rect;var d=r&&a||c&&w||h,s=Object.assign(o,{eventType:d,target:n,callbkParam:n.callbkParam||{}});"function"==typeof n.onceenter&&d===a?(n.onceenter(s),delete n.onceenter):"function"==typeof n.onceexit&&d===w?(n.onceexit(s),delete n.onceexit):"function"==typeof n.always?n.always(s):"function"==typeof n.handler&&o.isInView&&n.handler(s),n.isInView=o.isInView}l=P},40),l=window.pageYOffset,d=0;window.addEventListener("scroll",function(){c()}),window.addEventListener("resize",function(){c()}),e.directive("on-screen",{unbind:function(e,t){delete f[e.$scrollId]},inserted:function(e,t){var i=e.$scrollId||"scrollId-"+d++,n=f[i]||{element:e,classes:{},percent:-1,rect:{}},o=t.value;t.modifiers&&(t.modifiers.once||t.modifiers.onceenter)&&(n.onceenter=o.callbk||r),t.modifiers&&t.modifiers.onceexit&&(n.onceexit=o.callbk||r),t.modifiers&&t.modifiers.always&&(n.always=o.callbk||r),t.modifiers.once||t.modifiers.onceenter||t.modifiers.onceexit||t.modifiers.always||(n.handler=o.callbk||r),Object.assign(n,o),e.$scrollId=i,f[i]=n,c()}})}var a,w,h;e.exports=(a="enter",w="exit",h="progress",{install:function(e,t){e.directive("on-screen",e.prototype.$isServer?{}:i(e,t||{}))}})}(e={exports:{}}),e.exports});